"use strict";exports.id=423,exports.ids=[423],exports.modules={3178:(e,t,s)=>{s.d(t,{R:()=>a});let a="io.prismic.preview"},7097:(e,t,s)=>{s.d(t,{L:()=>n});var a=s(1615),i=s(3178);let r=e=>"object"==typeof e&&null!==e&&"ref"in e,n=e=>{"previewData"in e&&e.previewData?r(e.previewData)&&e.client.queryContentFromRef(e.previewData.ref):"req"in e&&e.req?e.client.enableAutoPreviewsFromReq(e.req):e.client.queryContentFromRef(()=>{var e;let t;let s=!1;try{s=(0,a.draftMode)().isEnabled}catch{return}if(s){try{t=null==(e=(0,a.cookies)().get(i.R))?void 0:e.value}catch{return}if(t&&/\.prismic\.io/.test(t))return t}})}},2005:(e,t,s)=>{s.d(t,{eI:()=>_});let a=e=>Array.isArray(e)?e:[e],i=(e={},t)=>({...e,filters:[...e.filters||[],...a(t)]}),r=e=>"function"==typeof e?e:()=>e;var n,o=s(7129);let l=e=>o.h.at("document.tags",a(e));var h=Object.defineProperty,c=(e,t,s)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(e,t,s)=>(c(e,"symbol"!=typeof t?t+"":t,s),s);class f extends Error{constructor(e="An invalid API response was returned",t,s){super(e),u(this,"url"),u(this,"response"),this.url=t,this.response=s}}let d=(e,t)=>{let s=e.find(e=>t(e));if(!s)throw new f("Ref could not be found.",void 0,void 0);return s},g=e=>d(e,e=>e.isMasterRef),y=(e,t)=>d(e,e=>e.id===t),p=(e,t)=>d(e,e=>e.label===t),w=e=>e.replace(/%3B/g,";"),m=e=>{let t;for(let s of e.split("; ")){let e=s.split("=");if("io.prismic.preview"===w(e[0]).replace(/%3D/g,"=")){t=w(e.slice(1).join("="));break}}return t},R=e=>e.replace(/(\n| )*( |{|})(\n| )*/gm,(e,t,s)=>s),b=e=>o.h.any("document.tags",a(e)),v=e=>o.h.at("document.type",e);class k extends f{}class S extends f{}class A extends f{}class T extends k{}class P extends k{}class D extends k{}class j extends S{}let q={Any:"Any",Document:"Document",Media:"Media",Web:"Web"},F=e=>{var t;return{link_type:q.Document,id:e.id,uid:e.uid||void 0,type:e.type,tags:e.tags,lang:e.lang,url:null==e.url?void 0:e.url,slug:null==(t=e.slugs)?void 0:t[0],...e.data&&Object.keys(e.data).length>0?{data:e.data}:{}}},B=(e,...t)=>{let s;if(!e)return null;let a="link_type"in e?e:F(e),[i]=t;switch(s="function"==typeof i||null==i?{linkResolver:i}:{...i},a.link_type){case q.Media:case q.Web:return"url"in a?a.url:null;case q.Document:if("id"in a&&s.linkResolver){let e=s.linkResolver(a);if(null!=e)return e}if("url"in a&&a.url)return a.url;return null;case q.Any:default:return null}},L={accessToken:"access_token"},I=e=>"string"==typeof e?e:"desc"===e.direction?`${e.field} desc`:e.field,M=(e,t)=>{let{filters:s,predicates:i,...r}=t,n=new URL("documents/search",`${e}/`);if(s)for(let e of a(s))n.searchParams.append("q",`[${e}]`);if(i)for(let e of a(i))n.searchParams.append("q",`[${e}]`);for(let e in r){let t=L[e]||e,s=r[e];if("orderings"===t){let e=r[t];if(null!=e){let t=a(e).map(e=>I(e)).join(",");s=`[${t}]`}}else"routes"===t&&"object"==typeof r[t]&&(s=JSON.stringify(a(r[t])));null!=s&&n.searchParams.set(t,a(s).join(","))}return n.toString()},$=e=>/^[a-zA-Z0-9][-a-zA-Z0-9]{2,}[a-zA-Z0-9]$/.test(e),O=e=>{if($(e))return`https://${e}.cdn.prismic.io/api/v2`;throw new f(`An invalid Prismic repository name was given: ${e}`,void 0,void 0)},x=e=>{try{return new URL(e),!0}catch{return!1}};var C=Object.defineProperty,U=(e,t,s)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,E=(e,t,s)=>(U(e,"symbol"!=typeof t?t+"":t,s),s);!function(e){e.Master="Master",e.ReleaseID="ReleaseID",e.ReleaseLabel="ReleaseLabel",e.Manual="Manual"}(n||(n={}));let _=(e,t)=>new z(e,t);class z{constructor(e,t={}){if(E(this,"endpoint"),E(this,"accessToken"),E(this,"routes"),E(this,"brokenRoute"),E(this,"fetchFn"),E(this,"fetchOptions"),E(this,"defaultParams"),E(this,"refState",{mode:n.Master,autoPreviewsEnabled:!0}),E(this,"cachedRepository"),E(this,"cachedRepositoryExpiration",0),E(this,"fetchJobs",{}),x(e)?this.endpoint=e:this.endpoint=O(e),this.accessToken=t.accessToken,this.routes=t.routes,this.brokenRoute=t.brokenRoute,this.fetchOptions=t.fetchOptions,this.defaultParams=t.defaultParams,t.ref&&this.queryContentFromRef(t.ref),"function"==typeof t.fetch)this.fetchFn=t.fetch;else if("function"==typeof globalThis.fetch)this.fetchFn=globalThis.fetch;else throw new f("A valid fetch implementation was not provided. In environments where fetch is not available (including Node.js), a fetch implementation must be provided via a polyfill or the `fetch` option.",void 0,void 0);this.fetchFn===globalThis.fetch&&(this.fetchFn=this.fetchFn.bind(globalThis)),this.graphQLFetch=this.graphQLFetch.bind(this)}enableAutoPreviews(){this.refState.autoPreviewsEnabled=!0}enableAutoPreviewsFromReq(e){this.refState.httpRequest=e,this.refState.autoPreviewsEnabled=!0}disableAutoPreviews(){this.refState.autoPreviewsEnabled=!1}async get(e){let t=await this.buildQueryURL(e);return await this.fetch(t,e)}async getFirst(e){var t;let s={...e};e&&e.page||(null==e?void 0:e.pageSize)||(s.pageSize=(null==(t=this.defaultParams)?void 0:t.pageSize)??1);let a=await this.buildQueryURL(s),i=(await this.fetch(a,e)).results[0];if(i)return i;throw new S("No documents were returned",a,void 0)}async dangerouslyGetAll(e={}){var t;let s;let{limit:a=1/0,...i}=e,r={...i,pageSize:Math.min(a,i.pageSize||(null==(t=this.defaultParams)?void 0:t.pageSize)||100)},n=[];for(;(!s||s.next_page)&&n.length<a;){let e=s?s.page+1:void 0;s=await this.get({...r,page:e}),n.push(...s.results),s.next_page&&await new Promise(e=>setTimeout(e,500))}return n.slice(0,a)}async getByID(e,t){return await this.getFirst(i(t,o.h.at("document.id",e)))}async getByIDs(e,t){return await this.get(i(t,o.h.in("document.id",e)))}async getAllByIDs(e,t){return await this.dangerouslyGetAll(i(t,o.h.in("document.id",e)))}async getByUID(e,t,s){return await this.getFirst(i(s,[v(e),o.h.at(`my.${e}.uid`,t)]))}async getByUIDs(e,t,s){return await this.get(i(s,[v(e),o.h.in(`my.${e}.uid`,t)]))}async getAllByUIDs(e,t,s){return await this.dangerouslyGetAll(i(s,[v(e),o.h.in(`my.${e}.uid`,t)]))}async getSingle(e,t){return await this.getFirst(i(t,v(e)))}async getByType(e,t){return await this.get(i(t,v(e)))}async getAllByType(e,t){return await this.dangerouslyGetAll(i(t,v(e)))}async getByTag(e,t){return await this.get(i(t,b(e)))}async getAllByTag(e,t){return await this.dangerouslyGetAll(i(t,b(e)))}async getByEveryTag(e,t){return await this.get(i(t,l(e)))}async getAllByEveryTag(e,t){return await this.dangerouslyGetAll(i(t,l(e)))}async getBySomeTags(e,t){return await this.get(i(t,b(e)))}async getAllBySomeTags(e,t){return await this.dangerouslyGetAll(i(t,b(e)))}async getRepository(e){let t=new URL(this.endpoint);return this.accessToken&&t.searchParams.set("access_token",this.accessToken),await this.fetch(t.toString(),e)}async getRefs(e){return(await this.getRepository(e)).refs}async getRefByID(e,t){return y(await this.getRefs(t),e)}async getRefByLabel(e,t){return p(await this.getRefs(t),e)}async getMasterRef(e){return g(await this.getRefs(e))}async getReleases(e){return(await this.getRefs(e)).filter(e=>!e.isMasterRef)}async getReleaseByID(e,t){return y(await this.getReleases(t),e)}async getReleaseByLabel(e,t){return p(await this.getReleases(t),e)}async getTags(e){try{let t=await this.getCachedRepositoryForm("tags",e),s=new URL(t.action);return this.accessToken&&s.searchParams.set("access_token",this.accessToken),await this.fetch(s.toString(),e)}catch{return(await this.getRepository(e)).tags}}async buildQueryURL({signal:e,fetchOptions:t,...s}={}){let a=s.ref||await this.getResolvedRefString({signal:e,fetchOptions:t}),i=s.integrationFieldsRef||(await this.getCachedRepository({signal:e,fetchOptions:t})).integrationFieldsRef||void 0;return M(this.endpoint,{...this.defaultParams,...s,ref:a,integrationFieldsRef:i,routes:s.routes||this.routes,brokenRoute:s.brokenRoute||this.brokenRoute,accessToken:s.accessToken||this.accessToken})}async resolvePreviewURL(e){var t,s;let a=e.documentID,i=e.previewToken;if(void 0!==globalThis.location){let e=new URLSearchParams(globalThis.location.search);a=a||e.get("documentId"),i=i||e.get("token")}else if(this.refState.httpRequest){if("query"in this.refState.httpRequest)a=a||(null==(t=this.refState.httpRequest.query)?void 0:t.documentId),i=i||(null==(s=this.refState.httpRequest.query)?void 0:s.token);else if("url"in this.refState.httpRequest&&this.refState.httpRequest.url){let e=new URL(this.refState.httpRequest.url,"missing-host://").searchParams;a=a||e.get("documentId"),i=i||e.get("token")}}if(null!=a&&null!=i){let t=B(await this.getByID(a,{ref:i,lang:"*",signal:e.signal,fetchOptions:e.fetchOptions}),{linkResolver:e.linkResolver});if("string"==typeof t)return t}return e.defaultURL}queryLatestContent(){this.refState.mode=n.Master}queryContentFromReleaseByID(e){this.refState={...this.refState,mode:n.ReleaseID,releaseID:e}}queryContentFromReleaseByLabel(e){this.refState={...this.refState,mode:n.ReleaseLabel,releaseLabel:e}}queryContentFromRef(e){this.refState={...this.refState,mode:n.Manual,ref:e}}async graphQLFetch(e,t){let s=await this.getCachedRepository(),a=await this.getResolvedRefString(),i={"Prismic-ref":a,Authorization:this.accessToken?`Token ${this.accessToken}`:"",...t?t.headers:{}};s.integrationFieldsRef&&(i["Prismic-integration-field-ref"]=s.integrationFieldsRef);let r={};for(let e in i)i[e]&&(r[e.toLowerCase()]=i[e]);let n=new URL(e);n.searchParams.set("ref",a);let o=n.searchParams.get("query");return o&&n.searchParams.set("query",R(o)),await this.fetchFn(n.toString(),{...t,headers:r})}async getCachedRepository(e){return(!this.cachedRepository||Date.now()>=this.cachedRepositoryExpiration)&&(this.cachedRepositoryExpiration=Date.now()+5e3,this.cachedRepository=await this.getRepository(e)),this.cachedRepository}async getCachedRepositoryForm(e,t){let s=(await this.getCachedRepository(t)).forms[e];if(!s)throw new f(`Form with name "${e}" could not be found`,void 0,void 0);return s}async getResolvedRefString(e){var t,s;if(this.refState.autoPreviewsEnabled){let e,a;if((null==(t=this.refState.httpRequest)?void 0:t.headers)?"get"in this.refState.httpRequest.headers&&"function"==typeof this.refState.httpRequest.headers.get?a=this.refState.httpRequest.headers.get("cookie"):"cookie"in this.refState.httpRequest.headers&&(a=this.refState.httpRequest.headers.cookie):(null==(s=globalThis.document)?void 0:s.cookie)&&(a=globalThis.document.cookie),a&&(e=m(a)),e)return e}let a=await this.getCachedRepository(e),i=this.refState.mode;if(i===n.ReleaseID)return y(a.refs,this.refState.releaseID).ref;if(i===n.ReleaseLabel)return p(a.refs,this.refState.releaseLabel).ref;if(i===n.Manual){let e=await r(this.refState.ref)();if("string"==typeof e)return e}return g(a.refs).ref}async fetch(e,t={}){var s,a,i,r;let n;let o={...this.fetchOptions,...t.fetchOptions,headers:{...null==(s=this.fetchOptions)?void 0:s.headers,...null==(a=t.fetchOptions)?void 0:a.headers},signal:(null==(i=t.fetchOptions)?void 0:i.signal)||t.signal||(null==(r=this.fetchOptions)?void 0:r.signal)};this.fetchJobs[e]&&this.fetchJobs[e].has(o.signal)?n=this.fetchJobs[e].get(o.signal):(this.fetchJobs[e]=this.fetchJobs[e]||new Map,n=this.fetchFn(e,o).then(async e=>{let t;try{t=await e.json()}catch{}return{status:e.status,headers:e.headers,json:t}}).finally(()=>{this.fetchJobs[e].delete(o.signal),0===this.fetchJobs[e].size&&delete this.fetchJobs[e]}),this.fetchJobs[e].set(o.signal,n));let l=await n;if(404!==l.status&&null==l.json)throw new f(void 0,e,l.json);switch(l.status){case 200:return l.json;case 400:throw new A(l.json.message,e,l.json);case 401:case 403:throw new k(l.json.error||l.json.message,e,l.json);case 404:if(void 0===l.json)throw new j(`Prismic repository not found. Check that "${this.endpoint}" is pointing to the correct repository.`,e,void 0);if("api_notfound_error"===l.json.type)throw new D(l.json.message,e,l.json);if("api_security_error"===l.json.type&&/preview token.*expired/i.test(l.json.message))throw new T(l.json.message,e,l.json);throw new S(l.json.message,e,l.json);case 410:throw new P(l.json.message,e,l.json);case 429:{let s=Number(l.headers.get("retry-after")),a=Number.isNaN(s)?1e3:s;return await new Promise((s,i)=>{setTimeout(async()=>{try{s(await this.fetch(e,t))}catch(e){i(e)}},a)})}}throw new f(void 0,e,l.json)}}},7129:(e,t,s)=>{s.d(t,{h:()=>n});let a=e=>Array.isArray(e)?`[${e.map(a).join(", ")}]`:"string"==typeof e?`"${e}"`:e instanceof Date?`${e.getTime()}`:`${e}`,i=e=>(t,...s)=>{let i=s.map(a).join(", "),r=t&&s.length?", ":"";return`[${e}(${t}${r}${i})]`},r=e=>{let t=i(e);return e=>t(e)},n={at:i("at"),not:i("not"),any:i("any"),in:i("in"),fulltext:i("fulltext"),has:r("has"),missing:r("missing"),similar:(e=>{let t=i(e);return(...e)=>t("",...e)})("similar"),geopointNear:i("geopoint.near"),numberLessThan:i("number.lt"),numberGreaterThan:i("number.gt"),numberInRange:i("number.inRange"),dateAfter:i("date.after"),dateBefore:i("date.before"),dateBetween:i("date.between"),dateDayOfMonth:i("date.day-of-month"),dateDayOfMonthAfter:i("date.day-of-month-after"),dateDayOfMonthBefore:i("date.day-of-month-before"),dateDayOfWeek:i("date.day-of-week"),dateDayOfWeekAfter:i("date.day-of-week-after"),dateDayOfWeekBefore:i("date.day-of-week-before"),dateMonth:i("date.month"),dateMonthAfter:i("date.month-after"),dateMonthBefore:i("date.month-before"),dateYear:i("date.year"),dateHour:i("date.hour"),dateHourAfter:i("date.hour-after"),dateHourBefore:i("date.hour-before")}}};